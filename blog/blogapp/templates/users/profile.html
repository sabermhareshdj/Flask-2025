 {% extends "base.html" %}

 {% block content %}
  <section class="border p-3 rounded bg-white"> 
    <div class="d-flex align-items-center">
      <div>
      <img 
        src="{{ url_for('static', filename='images/user-avatar.png') }}" 
        alt="{{current_user.username}}"
        class="rounded-circle"
        height="150px"
        width="150px"
        >
    </div>

    <div class="ms-4">
        <h1 class="text-dark">{{ current_user.username }}</h1>
        <p class="text-secondary"> {{ current_user.email }}</p>
    </div>
  </div>
  <div class="mt-4">
      <form method="POST" action="" class="border p-3 rounded shadow" novalidate>

          <!-- # prevent CSRF attacks حماية من هجمات تزوير الطلبات عبر المواقع -->
          <!-- CSRF = Cross-Site Request Forgery -->
          {{ form.csrf_token}}
          <h1 class="text-info text-center">Update your info</h1>
          <div class="mb-2">
              {{ form.username.label(class="form-label ms-1 fw-bold") }}

              {% if form.username.errors %}
              {{ form.username(class="form-control form-control-lg is-invalid", placeholder="Enter your username") }}
              <div class="invalid-feedback">
                  {% for error in form.username.errors %}
                  <span>{{ error }}</span>
                  {% endfor %}
              </div>
              {% else %}
              {{ form.username(class="form-control form-control-lg", placeholder="Enter your username") }}

              {% endif %}
          </div>
          <div class="mb-2">
              {{ form.email.label(class="form-label ms-1 fw-bold") }}

              {% if form.email.errors %}
              {{ form.email(class="form-control form-control-lg is-invalid", placeholder="Enter your email") }}
              <div class="invalid-feedback">
                  {% for error in form.email.errors %}
                  <span>{{ error }}</span>
                  {% endfor %}
              </div>
              {% else %}
              {{ form.email(class="form-control form-control-lg", placeholder="Enter your email") }}

              {% endif %}
          </div>

      
       
          <div class="mt-3">
              {{ form.submit(class="btn btn-lg btn-outline-info") }}
          </div>
        
      </form>
  </div>
  </section>
 {% endblock content %}

